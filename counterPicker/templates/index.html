<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dota 2 Counter Picker</title>
</head>
<body>
    <h1>Dota 2 Counter Picker</h1>
    
    <!-- Hero Select Form -->
    <form method="POST">
      <label for="hero_name">Select a Hero:</label>
      <select name="hero_name" id="hero_name" required>
          <option value="" disabled selected>Select your hero</option>
          {% for id, name in hero_names.items() %}
              <option value="{{ name }}" {% if hero_name == name %}selected{% endif %}>{{ name }}</option>
          {% endfor %}
      </select>
      <button type="submit">Get Worst Matchups</button>
  </form>
    <!-- Display Results if Hero is Selected -->
    {% if matchups %}
        <h2>Top 5 Worst Matchups for {{ hero_name }}</h2>
        <ul>
            <!-- In your Jinja template -->
    {% for matchup in matchups %}
        <div>
            <p>{{ hero_names[matchup.heroId2] }}:</p>
            <p>Match Count: {{ matchup.matchCount }}</p>
            <p>Wins: {{ matchup.winCount }}</p>
            <p>Win Rate (Hero 2 vs Hero 1): {{ '{:.2f}'.format((matchup.winCount / matchup.matchCount) * 100) }}%</p> <!-- Calculate win rate manually -->
        </div>
    {% endfor %}

        </ul>
    {% endif %}

    <!-- Display Error Message if Hero Not Found -->
    {% if error %}
        <p style="color:red">{{ error }}</p>
    {% endif %}
</body>
</html>
